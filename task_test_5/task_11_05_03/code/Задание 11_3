11.5.3. Резервное копирование
У Ивана, студента вуза, часто возникает необходимость скопировать актуальные учебные материалы (решенные задачи и т.д.) со своего компьютера на флешку для демонстрации преподавателю. При этом необходимые папки иногда бывают разбросаны по диску, поэтому ему хотелось бы найти более эффективный способ копирования данных.

Помогите Ивану - создайте приложение, позволяющее выполнять копирование папок на внешний носитель.

Общие требования

Приложение должно поддерживать 2 режима работы:

Графический: пользователь указывает с клавиатуры имя проекта из файла настроек.

Пакетный: скрипт запускается с параметром командной строки - именем проекта из файла настроек:

python3 main.py math
Если проект существует, осуществляется копирование, отображая ход работы в консоли и лог-файле.

Настройки

Набор папок для копирования определяется файлом настроек следующего вида (пример в формате JSON, однако, по желанию может быть выбран и другой, например, XML):

{
    "log_filename":"log.txt",
    "projects":{
        "math":{
            "folders":[
                {
                    "src":"C:/vuz/math1",
                    "dest":"G:/backup/math1"
                },
                {
                    "src":"C:/vuz/math2",
                    "dest":"G:/backup/math2"
                }
            ],
            "options":{
                "confirm":true
            }
        },
        "inf":{
            "folders":[
                {
                    "src":"C:/vuz/inf",
                    "dest":"G:/backup/inf"
                }
            ],
            "options":{
                "confirm":false
            }
        }
    }
}
где:

log_filename: относительное имя файла в папке скрипта для логгирования;

projects: словарь, где ключ - наименование проекта; каждый проект (также словарь) содержит:

folders: словарь - список папок для копирования в виде:

src: папка на жестком диске (источник);
dest: папка на съемном носителе (цель).
options: словарь настроек проекта:

confirm: если установлено в True, перед выполнением операции выдается запрос на подтверждение.
Логгирование

Логгирование процесса копирования ведется, как в консоли, так и в лог-файл (определяется параметром log_filename), и содержит следующие данные:

дата/время начала копирования;
количество копируемых файлов;
список копируемых файлов;
дата/время окончания копирования;
затраченное на копирование время;
ошибки, возникшие в момент работы программы.
Вариативность

После реализации базовой функциональности согласно Таблице 11.5.4 (ЦИФРА_СБ % 3 + 1) добавьте в файл настроек дополнительный параметр (в секцию options проекта), имеющий значение для копирования файлов и дополните код приложения. При отсутствии параметра копирование должно осуществляться в обычном режиме.

Таблица 11.5.4 - Дополнительная настройка приложения¶
№ п/п	Настройка	Тип	Описание (копируется, если…)
1	"datetime_min"	datetime.datetime	Дата/время создания/обновления файла не меньше, чем "datetime_min" (МОЙ ВАРИАНТ)
2	"template"	str	Имя файла соответствует шаблону (регулярному выражению) "template"
3	"size_max"	int	Размер файла в байтах меньше, чем "size_max"
